<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Farmleap - Test technique</title>
  </head>
  <body>
    <div>
      <h1>Test technique</h1>
      <div class="players-class">
        <form action="" method="post">
          <label for="players">Entrer le nombre de joueurs</label>
          <input type="number" min="0" id="indicateNumber" />
          <div class="players-class">
            <button type="button" onclick="numberOfPlayers(indicateNumber)">
              Valider le nombre de joueurs
            </button>
          </div>
        </form>
      </div>

      <div id="player-content" class="form-class"></div>

      <div class="result-class">
        <p id="result"></p>
      </div>
    </div>
  </body>
</html>

<script>
  function numberOfPlayers(el) {
    let form = document.createElement("form");
    form.id = "createdForm";

    for (let i = 0; i < el.value; i++) {
      form.innerHTML =
        form.innerHTML +
        `
        <div class="form-class" id="divJoueurs">
          <label for="taille" id="tailleJoueurs"
            >Entrer la taille du rugbyman</label
          >
          <input type="number" min="0" id="inputJoueur` +
        i +
        `" required /> <span>cm</span>
        </div>
        `;
    }
    document.getElementById("player-content").appendChild(form);
    let ref = document.createElement("div");
    ref.innerHTML =
      ref.innerHTML +
      `<div class="form-class">
          <label for="reference">
            Entrer la taille de référence pour un rugbyman:
          </label>
          <input type="number" min="0" id="reference" required />
          <span>cm</span>
      </div>`;
    document.getElementById("player-content").appendChild(ref);
    let btn = document.createElement("button");
    btn.innerHTML = "Confirmer";
    btn.onclick = this.solution;
    document.body.appendChild(btn);
  }

  function solution() {
    let numberOfPlayers = document.getElementById("indicateNumber").value;
    let arrayPlayers = [];
    for (let i = 0; i < numberOfPlayers; i++) {
      arrayPlayers.push(document.getElementById("inputJoueur" + i).value);
    }
    console.log(arrayPlayers);
    let reference = document.getElementById("reference").value;
    let result = "";
    for (let i = 0; i < arrayPlayers[i]; i++) {
      if (arrayPlayers[i] < reference) {
        result +=
          "Le rugbyman n°" +
          (i + 1) +
          " est inférieur à la taille de référence" +
          "<br />";
      } else if (arrayPlayers[i] > reference) {
        result +=
          "Le rugbyman n°" +
          (i + 1) +
          " est supérieur à la taille de référence" +
          "<br />";
      } else {
        result +=
          "Le rugbyman n°" +
          (i + 1) +
          " est strictement égal à la taille de référence" +
          "<br />";
      }
    }
    document.getElementById("result").innerHTML = result;
  }
</script>
